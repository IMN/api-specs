swagger: '2.0'
info:
  version: '1.0'
  title: 'External API - Merchant Marketplace Subscription Request'
  description: 'External API - Merchant Marketplace Subscription Request'

basePath: /external/merchants/v1
paths:
  '/subscriptionRequested':
    post:
      summary: Notify merchant subscription request
      parameters: 
    #  - $ref: 'https://api.swaggerhub.com/domains/IMN/imn.io/v1#/parameters/merchantCodeParameter'
      - name: request
        in: body
        required: true
        schema:
          type: array
          minItems: 1
          items:
            $ref: '#/definitions/merchantMarketplaceSubscriptionRequested'
      responses:
        204:
          description: Subscriptions's request have been integrated
        default:
          $ref: 'https://api.swaggerhub.com/domains/IMN/imn.io/v1#/responses/GeneralError'
          
definitions:
  
  merchantMarketplaceSubscriptionRequested:
    x-format: Message
    type: object
    description: When the merchant marketplace subscription has been requested
    required:
    - merchantCode
    - merchantEmail
    - marketplacesRequested
    properties:
      merchantCode:
        $ref: 'https://api.swaggerhub.com/domains/IMN/imn.io/v1#/definitions/merchantCode'
      merchantEmail:
        $ref: 'https://api.swaggerhub.com/domains/IMN/imn.io/v1#/definitions/email'
      marketplacesRequested:
        type: array
        minItems: 1
        uniqueItems: true
        items:
          $ref: 'https://api.swaggerhub.com/domains/IMN/imn.io/v1#/definitions/marketplaceCode'